<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CommandFileParser Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<h1>CommandFileParser Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="CommandFileParser" -->
<p>A central place for checking the command file for errors.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="CommandFileParser_8h_source.html">CommandFileParser.h</a>&gt;</code></p>

<p><a href="classCommandFileParser-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommandFileParser.html#aa24d02c473d9d3d01294f21358803298">CommandFileParser</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommandFileParser.html#a49b17ddf6521173d2e509cf9b01fe804">CommandFileParser</a> (<a class="el" href="classBoard.html">Board</a> board)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommandFileParser.html#a289cd79998c789e821349ae75a51e3b0">parseSimpleLine</a> (std::string line)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a71fd840d693859f1ef4d72cd3af3c3dd"></a><!-- doxytag: member="CommandFileParser::setBoard" ref="a71fd840d693859f1ef4d72cd3af3c3dd" args="(Board _board)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>setBoard</b> (<a class="el" href="classBoard.html">Board</a> _board)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommandFileParser.html#ae4328cd139c99cbe1c985cacc86164d4">isValidTime</a> (std::string time)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommandFileParser.html#ae784b8bb47f68026ad28a77834ddeb4e">isValidDate</a> (std::string date)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommandFileParser.html#a571f105fedb8fb54270d2f88a6a45dfb">isValidRelayID</a> (std::string id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommandFileParser.html#a58da750f1de1b279c1acdb2ae84b1554">isValidAction</a> (std::string action)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommandFileParser.html#a5a7cf1aab6e18b15d1db4447b7d53ce4">purgeWhitespace</a> (std::string &amp;line)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommandFileParser.html#ab86b5967059afc2da9f2afb68ff49c11">addError</a> (const char *message, int type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommandFileParser.html#ac3305230e99692571f579548b5cab1dc">addWarning</a> (const char *message, int type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4ddcf92c995981dcb8f52c4f4f626265"></a><!-- doxytag: member="CommandFileParser::clearErrors" ref="a4ddcf92c995981dcb8f52c4f4f626265" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>clearErrors</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a54fc502ee4c8a81efa8382f67a802c82"></a><!-- doxytag: member="CommandFileParser::clearWarnings" ref="a54fc502ee4c8a81efa8382f67a802c82" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>clearWarnings</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5d6400b04f94897065d529d3c364b109"></a><!-- doxytag: member="CommandFileParser::getErrors" ref="a5d6400b04f94897065d529d3c364b109" args="()" -->
std::list&lt; <a class="el" href="classError.html">Error</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>getErrors</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a208f287f9c21208222e086a72c4855e2"></a><!-- doxytag: member="CommandFileParser::printErrors" ref="a208f287f9c21208222e086a72c4855e2" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>printErrors</b> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A central place for checking the command file for errors. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa24d02c473d9d3d01294f21358803298"></a><!-- doxytag: member="CommandFileParser::CommandFileParser" ref="aa24d02c473d9d3d01294f21358803298" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CommandFileParser::CommandFileParser </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor. </p>

</div>
</div>
<a class="anchor" id="a49b17ddf6521173d2e509cf9b01fe804"></a><!-- doxytag: member="CommandFileParser::CommandFileParser" ref="a49b17ddf6521173d2e509cf9b01fe804" args="(Board board)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CommandFileParser::CommandFileParser </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBoard.html">Board</a>&#160;</td>
          <td class="paramname"><em>board</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ab86b5967059afc2da9f2afb68ff49c11"></a><!-- doxytag: member="CommandFileParser::addError" ref="ab86b5967059afc2da9f2afb68ff49c11" args="(const char *message, int type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CommandFileParser::addError </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add an <a class="el" href="classError.html" title="a simple error class used for error reporting.">Error</a> to the error list. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The error message </td></tr>
    <tr><td class="paramname">type</td><td>The error type (see ERROR_TYPE::TYPE) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac3305230e99692571f579548b5cab1dc"></a><!-- doxytag: member="CommandFileParser::addWarning" ref="ac3305230e99692571f579548b5cab1dc" args="(const char *message, int type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CommandFileParser::addWarning </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add a warning to the warnings list. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The error message </td></tr>
    <tr><td class="paramname">type</td><td>The error type (see ERROR_TYPE::TYPE) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a58da750f1de1b279c1acdb2ae84b1554"></a><!-- doxytag: member="CommandFileParser::isValidAction" ref="a58da750f1de1b279c1acdb2ae84b1554" args="(std::string action)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CommandFileParser::isValidAction </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>action</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Checks that the action passed as parameter is valid. Actions are on, off and toggle. they can be written in any case </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">action</td><td>The string that will be parsed </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the action is valid, false otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="ae784b8bb47f68026ad28a77834ddeb4e"></a><!-- doxytag: member="CommandFileParser::isValidDate" ref="ae784b8bb47f68026ad28a77834ddeb4e" args="(std::string date)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CommandFileParser::isValidDate </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>date</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reads a date in dd/mm/yyyy format and parses it for errors. If it finds any errors it writes them to the errors list (retrieve them with getErrors()). There is no guaratee that this function will find every error on it's first pass. For simplicity if the date is malformed the function quits before trying to understand the values. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">date</td><td>the date the function will parse </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if no errors where encountere, false if an errors was encountered. </dd></dl>

</div>
</div>
<a class="anchor" id="a571f105fedb8fb54270d2f88a6a45dfb"></a><!-- doxytag: member="CommandFileParser::isValidRelayID" ref="a571f105fedb8fb54270d2f88a6a45dfb" args="(std::string id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CommandFileParser::isValidRelayID </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Checks that the id starts with r or R and that the rest of the string is a non negative number lower than the number of relays on the board </p>

</div>
</div>
<a class="anchor" id="ae4328cd139c99cbe1c985cacc86164d4"></a><!-- doxytag: member="CommandFileParser::isValidTime" ref="ae4328cd139c99cbe1c985cacc86164d4" args="(std::string time)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CommandFileParser::isValidTime </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reads a time in hh:mm:ss format and parses it for errors. If it finds any errors it writes them to the errors list (retrieve them with getErrors()). There is no guaratee that this function will find every error on it's first pass. For simplicity if the time is malformed the function quits before trying to understand the values. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>the time the function will parse </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if no errors where encountere, false if an errors was encountered. </dd></dl>

</div>
</div>
<a class="anchor" id="a289cd79998c789e821349ae75a51e3b0"></a><!-- doxytag: member="CommandFileParser::parseSimpleLine" ref="a289cd79998c789e821349ae75a51e3b0" args="(std::string line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CommandFileParser::parseSimpleLine </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>line</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Parse a simple line. Simple lines are not defined by complexity. A simple line is command line that has the following format : hh:mm:ss DD:MM:YYYY [relayid action] If an error occurs it will be written to the errors list. You can retrieve errors with getErrors() </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">line</td><td>The line the function will attempt to parse </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if no errors were encountered, false otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a5a7cf1aab6e18b15d1db4447b7d53ce4"></a><!-- doxytag: member="CommandFileParser::purgeWhitespace" ref="a5a7cf1aab6e18b15d1db4447b7d53ce4" args="(std::string &amp;line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string CommandFileParser::purgeWhitespace </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>line</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remove whitespace at the start of the string, at the end of the string and any duplicate spaces in the string </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">&amp;line</td><td>a reference to the line that we are parsing </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the produced string. This is redundant as we are operating on a reference </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="CommandFileParser_8h_source.html">CommandFileParser.h</a></li>
<li>CommandFileParser.cpp</li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Mar 9 2011 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
